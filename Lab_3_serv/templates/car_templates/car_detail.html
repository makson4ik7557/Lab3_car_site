{% extends "car_templates/base.html" %}

{% block title %}{{ page_title }} - Car Sale Site{% endblock %}

{% block content %}
<div class="flex-between mb-3">
    <div>
        <a href="{% url 'car_list' %}" class="btn btn-secondary">← Back to List</a>
    </div>
    <div>
        <a href="{% url 'car_edit' car.id %}" class="btn">Edit Car</a>
    </div>
</div>

<div class="card">
    <h1>{{ car.make }} {{ car.model }}</h1>

    <div class="car-detail-grid">
        <div>
            <h3>Basic Information</h3>
            <table class="car-detail-table">
                <tr>
                    <td>ID:</td>
                    <td>{{ car.id }}</td>
                </tr>
                <tr>
                    <td>Make:</td>
                    <td>{{ car.make }}</td>
                </tr>
                <tr>
                    <td>Model:</td>
                    <td>{{ car.model }}</td>
                </tr>
                <tr>
                    <td>Year:</td>
                    <td>{{ car.year }}</td>
                </tr>
            </table>
        </div>

        <div>
            <h3>Pricing & Availability</h3>
            <table class="car-detail-table">
                <tr>
                    <td>Price:</td>
                    <td class="price-highlight">${{ car.price }}</td>
                </tr>
                <tr>
                    <td>In Stock:</td>
                    <td>
                        {% if car.in_stock %}
                            <span class="stock-status available">✓ Available</span>
                        {% else %}
                            <span class="stock-status unavailable">✗ Not Available</span>
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <td>Added:</td>
                    <td>{{ car.created_at|date:"Y-m-d H:i" }}</td>
                </tr>
            </table>
        </div>
    </div>
</div>

<div class="card delete-card">
    <h3>Delete Car</h3>
    <p>This action cannot be undone. The car will be permanently removed from the inventory.</p>

    <form method="post" action="{% url 'car_delete' car.id %}" onsubmit="return confirm('Are you sure you want to delete {{ car.make }} {{ car.model }}?');">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">Delete This Car</button>
    </form>
</div>
{% endblock %}

