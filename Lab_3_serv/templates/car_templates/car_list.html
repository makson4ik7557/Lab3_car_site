{% extends "car_templates/base.html" %}

{% block title %}{{ page_title }} - Car Sale Site{% endblock %}

{% block content %}
<div class="flex-between">
    <h1>{{ page_title }}</h1>
    <a href="{% url 'car_add' %}" class="btn btn-success">Add New Car</a>
</div>

<p>Browse our complete inventory of cars. Click on any car to view details.</p>

{% if cars %}
<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Make</th>
            <th>Model</th>
            <th>Year</th>
            <th>Price</th>
            <th>In Stock</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for car in cars %}
        <tr>
            <td>{{ car.id }}</td>
            <td>{{ car.make }}</td>
            <td>{{ car.model }}</td>
            <td>{{ car.year }}</td>
            <td>${{ car.price }}</td>
            <td>
                {% if car.in_stock %}
                    <span class="stock-status available">✓ Yes</span>
                {% else %}
                    <span class="stock-status unavailable">✗ No</span>
                {% endif %}
            </td>
            <td>
                <a href="{% url 'car_detail' car.id %}" class="btn btn-small">View Details</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<p class="car-count">
    Total cars: <strong>{{ cars|length }}</strong>
</p>
{% else %}
<div class="card text-center empty-inventory">
    <h3>No cars available</h3>
    <p>Start by adding some cars to the inventory.</p>
    <a href="{% url 'car_add' %}" class="btn btn-success mt-3">Add Your First Car</a>
</div>
{% endif %}
{% endblock %}

